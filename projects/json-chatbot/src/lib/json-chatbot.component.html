<div class="chatbot-content">
  <lib-chat-bubble [chatMessage]="msg" *ngFor="let msg of messages" [ellipsis]="loaderIcon"></lib-chat-bubble>
</div>

<div class="footer" role="footer">
  <div class="answer" *ngIf="hasComponent()">
    <ng-template adHost></ng-template>
  </div>

  <div *ngFor="let answer of currentAnswers">
    <div class="input-text" *ngIf="answer?.answerType == 'INPUT'">
      <input #txtInput [name]="content" [(ngModel)]="content" (keyup)="onKey(txtInput.value)"
             class="input-text-content"/>
      <button class="chatbot-button" (click)="sendMessage(answer?.answerType, answer)">{{answer.text}}</button>
    </div>
    <div class="input-select" *ngIf="answer?.answerType == 'SELECT'">
      <div item-content>
        <div class="input-select-content" *ngIf="data">
          <div *ngFor="let item of data | async">
            <a (click)="selectContent(item)" *ngIf="!currentMsg.srcLabel || currentMsg.srcLabel == ''">{{item}}</a>
            <a (click)="selectContent(item)"
               *ngIf="currentMsg.srcLabel && currentMsg.srcLabel!=''">{{item[currentMsg.srcLabel]}}</a>
          </div>
          <div *ngIf="hasDataContent">
            <span> ----- </span>
          </div>
          <div *ngIf="hasDataContent">
            <a (click)="selectContent(unknowItemKey)">{{unknowItem}}</a>
          </div>
        </div>
        <input #txtSelect name="content" [(ngModel)]="content" (keyup)="tapSelect(txtSelect.value)"/>
        <button class="chatbot-button" (click)="sendMessage(answer?.answerType, answer)">{{answer.text}}</button>
      </div>
    </div>
    <div class="input-button" *ngIf="answer?.answerType == 'BUTTON' || answer?.answerType == 'CLOSE'">
      <button class="chatbot-button" (click)="sendMessage(answer?.answerType, answer)">{{answer.text}}</button>
    </div>
  </div>
</div>
