<div>
  <div class="chat-bubble {{getPosition()}}">
    <ngx-avatar class="message-avatar-{{getPosition()}}" [src]="chatMessage.avatar" *ngIf="chatMessage.avatar && chatMessage.avatar.length > 0"></ngx-avatar>
    <div class="message-author">{{chatMessage?.author}}</div>
    <div class="message">
      <img [src]="ellipsis" *ngIf="chatMessage.loading && ellipsis"/>
      <span *ngIf="!chatMessage.loading || !ellipsis">{{chatMessage?.message}}</span>
    </div>
    <div class="message-detail" *ngIf="withDate">
      <span>{{formatEpoch(chatMessage?.epoch)}}</span>
    </div>
  </div>
</div>
